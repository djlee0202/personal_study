<!doctype html>
<html>
<head>
  <title>Final Project</title>
  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <script src="exploder.js"></script>
   <link rel="stylesheet" href="//www.propublica.org/css/960/reset.css" type="text/css" media="all" charset="utf-8">
   <link rel="stylesheet" href="//www.propublica.org/css/960/propublica-text.css" type="text/css" media="all" charset="utf-8">
   <link rel="stylesheet" href="//www.propublica.org/css/master.css" type="text/css" media="screen" charset="utf-8">
   <link rel="stylesheet" href="//www.propublica.org/css/print.css" type="text/css" media="print" charset="utf-8">
   <link rel="stylesheet" href="//www.propublica.org/css/headfoot2011.css" type="text/css" media="all" charset="utf-8">
</head>
<body>


<div id="content" class="sidebar">
  <div class="wrapper">
    <div class="content-full">
      <h1> <br>The Trend and Landscape of the NYC Restaurant (2014 to 2016) </h1>
      <div class="byline-block social-module">
        <div class="authors">
          <p class="byline">
            By Dongjin Lee, LEDE Class Project - NYC Restaurant <br>December 01, 2016
          </p>
        </div>
        <div class="clear"><!-- --></div>
      </div><!--byline-block-->

        <div id="guffblob">
          <p>
            This project explores the current landscape of restaurants across NYC 5 boro, identifying relation between location and cuisine type.
            <br> The report provides insight into trends in food preferences in each location , and cuisine’s type and rating across the city.
            <br> The purpose of this project is to show the clear visualization of the following analysis which was done during the summer.
            <br> <a href="www.google.com"> Analysis Link (Python) </a>
          </p>

            <h1> <br> Click the map to see the trend of each borough.</h1>
            <script>

            var width = 1200;
            var   height = 600;

            var svg = d3.select("#guffblob").append("svg")
                .attr("width", width)
                .attr("height", height);

              d3.json("nyc.json", function(error, nyb) {

              	console.log(nyb)

                var projection = d3.geo.mercator()
                					.center([-73.15, 40.30])
              					.scale(30000)
              					.translate([(width) / 2 , (height)])



                        ;

            	var path = d3.geo.path()
            			.projection(projection);

            	var g = svg.append("g");

            	var boroughs = g.append("g")
            		.attr("id", "boroughs")
            		.selectAll(".state")
            		.data(nyb.features)
            		.enter().append("path")
                .attr('id', function (d) {
                  return "fips_" + d.id;
                })
                .attr("fill", "white")
                .style("stroke", "grey")
                // function (d) {
                //   return getColor(Math.random() * 1000);
                // })
            		.attr("d", path);

                var explode_states = g.append("g")
                .attr("id", "explode-provinces")
                .selectAll("path")
                .data(nyb.features)
                .enter().append("path")
                .attr("fill", "white")
                .style("stroke", "red")
                .attr('id', function (d) {
                  return "fips_" + d.id;
                })

                .attr("d", path);

              var exploder = d3.geo.exploder()
                .projection(projection)
                .size(function (d, i) {
                  return 300;
                })
                .position(function (d, i) {
                  return [500, height/2];
                })




                explode_states.on('click', function () {
                  d3.selectAll('.highlighted-state')
                  .transition()
                  .duration(500)
                  .attr("d", path)
                  .attr("transform", "translate(0,0)")
                  .each('end', function () {
                    d3.select(this).classed('highlighted-state', false);
                  })

                  d3.select(this)
                  .classed('highlighted-state', true)
                  .transition()
                  .duration(500)
                  .call(exploder)
                  .attr("fill",'white')
                  .style("stroke", "red");
                });





            	});

            </script>




          <h2>Explanation</h2>

          <p>
            This is the paragraph
          </p>
          <p><em> Reference : Many of the code were from different sources. The reference are as follows.</em></p>

          <p class="sources">
           <br>
           Referenced Code and Data Sources:
           <br> Original Idea / Inspired by : <a href=" http://www.businessinsider.com/best-nyc-restaurant-for-every-cuisine-2015-10 "> The best New York City restaurant for every type of cuisine <a>
           <br> 1. Html + Css Format : Propublica base format
           <br> 2.  <a href="http://data.beta.nyc//dataset/68c0332f-c3bb-4a78-a0c1-32af515892d6/resource/7c164faa-4458-4ff2-9ef0-09db00b509ef/download/42c737fd496f4d6683bba25fb0e86e1dnycboroughboundaries.geojson">
                    NYC Json file from OPEN NYC DATA </a>
           <br> 3.  <a href="http://bl.ocks.org/phil-pedruco/6646844">NYC Projection on D3 </a> from phil-pedruco’s Block
           <br> 4.  New York City Restaurant Inspection Results from NYC OPEN DATA
           <br> 5.  And more.

          </p>
          <p >
            Note: This is the note section for futher explanation.
          </p>
        </div>


          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<script type="text/javascript" src="//www.propublica.org/js/public/assets/typekit.js"></script>




</html>
